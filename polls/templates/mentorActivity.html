<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>

    {% load static %}
    {% block CSS %}
    <link rel="stylesheet" href="{% static 'css/mentorActivity.css' %}">
    {% endblock %}

    <title>Mentor: Home Page</title>
  </head>
  <body>
    <div class="container">
      <h1>Mentor activity report</h1>
      <form id="form" enctype="multipart/form-data">
        <div class="row jumbotron" style="display: flex;">
          <div id="datepicker" class="input-group date col-sm-4">
            <input class="form-control" type="text">
            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
          </div>
          {% if incomplete_records %}
            <div>
              <a type="button" class="btn" data-toggle="modal" data-target="#myModal">
                <i class="fa fa-exclamation-triangle" style="color:red;"></i>
              </a>
            </div>

            <div class="modal fade" id="myModal" role="dialog">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Incomplete Reports</h4>
                  </div>
                  <div class="modal-body">
                    <p>You have pending records for:</p>
                    <ol>
                      {% for record in incomplete_records %}
                        <li> {{ record }}</li>
                      {% endfor %}
                    </ol> 
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>
          {% endif %}

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="callAttended" />
            <label class="form-check-label" for="exampleCheck1">Call attended this month?</label>
          </div>
          <div class="col-sm-4" style="float: right;"><a class="btn btn-primary pull-right add-record" data-added="0"><i class="glyphicon glyphicon-plus"></i>&nbsp;Add Row</a></div>
        </div>
        <div class="row" id = 'errorMsg'>
          <div>
            <div class="alert alert-danger" role="alert">
                <div>
                  <i class="fa fa-exclamation-triangle"></i> 
                  <strong>Error:</strong> <span id='msg'></span>
                </div>
            </div>      
          </div>
        </div>  
        <table class="table table-bordered" id="tbl_posts">
          <thead>
            <tr>
              <th>#</th>
              <th>Meeting/Activity Scheduled</th>
              <th>Kept?</th>
              <th>Date</th>
              <th>Hours/Minutes</th>
              <th>Comments (Include goals set, accomplishments, issues)</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="tbl_posts_body">
          </tbody>
        </table>
        <div class="col-sm-10" style="align-items: center;text-align: center">
          <a id="submit" class="btn btn-default read-more" style="background:#3399ff;color:white">Submit</a>
        </div>
      </form>
      <div style="display:none;">
        <table id="sample_table">
          <tr>
            <td><span class="sn"></span>.</td>
            <td><input type="text" class="act full_width" name="activity" placeholder="Activity"/></td>
            <td><label class="switch"><input type="checkbox" class="kept" name="kept" value="kept"><span class="slider round"></span></label></td>
            <td><input type="date" class="date_picker" name="date_picker" /></td>
            <td><input type="text" class="dur full_width" name="duration" placeholder="Duration"/></td>

            <td><textarea rows="2" cols="50" class="comm full_width" name="comments" placeholder="Comments"></textarea></td>
            <td><a class="btn btn-xs delete-record" data-id="0"><i class="glyphicon glyphicon-trash"></i></a></td>
          </tr>
        </table>
      </div>
    </div>
  </body>
  {% block staticfiles%}
  <script rel="stylesheet" src="{% static 'js/mentorActivity.js' %}"></script> 
  {% endblock %}
  <!-- <script src="scripts/index.js"></script> -->
</html>